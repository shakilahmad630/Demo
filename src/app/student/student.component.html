<div class="panel-header panel-header-md">
    <div class="mr-3 col-md-10">
        <div class="card-user">

            <div class="row">
                <div class="col-sm-6 pr-1">
                    <div class="form-group">
                        <label class="text-white">Filter</label>
                        <input type="text" class="form-control" placeholder="Type to search" [(ngModel)]="data">
                    </div>
                </div>


            </div>

            <div class="row">
                <div class="col-md-12 form-group ">

                    <button type="button" class="btn btn-primary btn-round"
                        (click)="openFilterModel(filterModal)">Custom Filter</button>
                    <!-- (click)="viewAllFaculty(); criteriaForm.resetForm()">Reset</button> -->
                </div>
            </div>
        </div>
    </div>
</div>

<!-- view certificate modal start -->
<ng-template #viewCertificateModal let-modal>
    <div class="modal-content">
        <div class="card-header">
            <div class="row">
                <div class="col-md-6 pr-1" style="text-align: left;">
                    <h5 class="title" style="font-weight: bold;">Student Certificate</h5>
                </div>

            </div>
        </div>
        <div class="modal-body">
            <div class="row">
                <div class="form-group col-md-4">
                    <label for="inputState" style="font-weight: bold;">Admission No : </label>
                    <span> {{viewStudentDoc.admissionNo}}</span>
                </div>
                <div class="form-group col-md-4">
                    <label for="inputState" style="font-weight: bold;">Student Name : </label>
                    <span> {{viewStudentDoc.studentName}}</span>
                </div>
                <div class="form-group col-md-4">
                    <label for="inputState" style="font-weight: bold;">Father's Name : </label>
                    <span> {{viewStudentDoc.fatherName}}</span>
                </div>
            </div>
            <div class="row">
                <div class="form-group col-md-12">
                    <table class="table table-responsive" id="docTable">
                        <tr style="width: 100%;">
                            <th>Sl. No.</th>
                            <th>Document Name</th>
                            <th>Document</th>
                            <th>Action</th>
                        </tr>
                        <tr *ngFor="let item of documentData; index as i" style="width: 100%;">
                            
                            <td style="width: 25%;text-align: center;">{{i + 1}}</td>
                            <td>{{item.edocumentname}}</td>
                            <td>
                                <a href="http://localhost:9009/documents/{{item.estudentdocument}}" target="_blank">
                                    {{item.estudentdocument}}
                                </a>
                            </td>
                            <td>
                                <button type="button" rel="tooltip" title=""
                                    class="btn btn-danger btn-round btn-icon btn-icon-mini btn-neutral"
                                    data-original-title="Remove" (click)="deleteDocument(viewStudentDoc.admissionNo,item.estudentdocument)">
                                    <i class="now-ui-icons files_box text-info"></i>
                                </button>
                            </td>
                        </tr>
                    </table>
                </div>
            </div>
            <div class="row" *ngIf="canUploadDocument">
                <div class="col-md-12">
                    <div class="input-group input-group-alternative">
                        <button id="uploaddocument" name="uploaddocument" class="btn btn-primary"
                            (click)="uploadDocument(uploadDocumentModal)">Upload Document</button> &nbsp; 
                            <button type="button" class="btn btn-warning"
                            (click)="dismissModel()">Cancel</button>
                    </div>

                </div>
            </div>
        </div>
    </div>
</ng-template>
<!-- view certificate modal ends -->

<!-- upload document modal start -->
<ng-template #uploadDocumentModal let-modal>
    <div class="modal-content">
        <div class="card-header">
            <div class="row">
                <div class="col-md-6 pr-1" style="text-align: left;">
                    <h5 class="title" style="font-weight: bold;">Upload Student Document</h5>
                </div>

            </div>
        </div>
        <div class="modal-body">
            <form role="form" [formGroup]="uploadDocumentForm">

                <div class="row">
                    <div class="col-md-4">
                        <label for="inputState">Admission No</label>
                        <div class="input-group input-group-alternative">
                            <input class="form-control myformcontrol" placeholder="Admission No" type="text"
                                id="eadmissionno" name="eadmissionno" formControlName="eadmissionno" />
                        </div>
                    </div>
                    <div class="col-md-8">
                        <br>
                        <button id="addfields" name="addfields" (click)="addNewField()"
                            class="btn btn-primary float-right">Add</button>
                    </div>
                </div>

                <div formArrayName="documentrows">
                    <div class="row" *ngFor="let item of uploadDocumentForm.get('documentrows')['controls']; index as i"
                        [formGroupName]="i">

                        <div class="form-group col-md-3">
                            <label for="inputState">Document Name</label>
                            <div class="input-group input-group-alternative">
                                <input class="form-control myformcontrol" placeholder="Document Name" type="text"
                                    id="edocumentname" name="edocumentname" formControlName="edocumentname" />
                            </div>
                        </div>
                        <div class="form-group col-md-3">
                            <!-- <label for="inputState">Student Document</label> -->
                            <input type="file" value="Choose File..." class="form-control  myformcontrol"
                                style="opacity:0.5; color: red; margin-top: 35px; margin-left: 20px;"
                                id="estudentdocument" class="form-control-file" name="estudentdocument"
                                formControlName="estudentdocument" (change)="onMultipleFileSelected($event)">


                            <!-- <angular-file-uploader (fileSelected)="fileSelected($event)" [config]="afuConfig">
                            </angular-file-uploader> -->
                        </div>
                        <div class="form-group col-md-3 mt-3">
                            <button id="delControl" name="delControl" class="btn btn-primary float-right"
                                (click)="removeControl(i)">Del</button>
                        </div>

                    </div>
                </div>



                <div class="col-md-12">
                    <div class="form-group text-center">
                        <button type="button" class="btn btn-primary btn-round" (click)="uploadFile()">Save</button>
                        &nbsp;<button type="button" class="btn btn-warning btn-round"
                            (click)="setDefaultValues()">Reset</button>
                    </div>
                </div>
            </form>
        </div>
    </div>
</ng-template>
<!-- upload document modal ends -->

<!-- Compare modal starts -->

<ng-template #compareModal let-modal>
    <div class="modal-content">
        <div class="card-header">
            <div class="row">
                <div class="col-md-6 pr-1" style="text-align: left;">
                    <h5 class="title" style="font-weight: bold;">Compare Student Data</h5>
                </div>
            </div>
        </div>
        <div class="modal-body">
            <table class="table table-responsive">
                <tr>
                    <th>Title</th>
                    <th>Old Data</th>
                    <th>New Data</th>
                </tr>
                <tr [style.background-color]="studentOldData.admissionNo != studentNewData.admissionNo ? '#ffa98d':''">
                    <th>Admission No</th>
                    <td>{{studentOldData.admissionNo}}</td>
                    <td>{{studentNewData.admissionNo}}</td>
                </tr>
                <tr [style.background-color]="studentOldData.studentName != studentNewData.studentName ? '#ffa98d':''">
                    <th>Student Name</th>
                    <td>{{studentOldData.studentName}}</td>
                    <td>{{studentNewData.studentName}}</td>
                </tr>
                <tr [style.background-color]="studentOldData.fatherName != studentNewData.fatherName ? '#ffa98d':''">
                    <th>Father's Name</th>
                    <td>{{studentOldData.fatherName}}</td>
                    <td>{{studentNewData.fatherName}}</td>
                </tr>
                <tr [style.background-color]="studentOldData.motherName != studentNewData.motherName ? '#ffa98d':''">
                    <th>Mother's Name</th>
                    <td>{{studentOldData.motherName}}</td>
                    <td>{{studentNewData.motherName}}</td>
                </tr>
                <tr [style.background-color]="studentOldData.classId != studentNewData.classId ? '#ffa98d':''">
                    <th>Class</th>
                    <td>{{studentOldData.classId}}</td>
                    <td>{{studentNewData.classId}}</td>
                </tr>
                <tr [style.background-color]="studentOldData.sectionId != studentNewData.sectionId ? '#ffa98d':''">
                    <th>Section</th>
                    <td>{{studentOldData.sectionId}}</td>
                    <td>{{studentNewData.sectionId}}</td>
                </tr>
                <tr [style.background-color]="studentOldData.dob != studentNewData.dob ? '#ffa98d':''">
                    <th>Date of Birth</th>
                    <td>{{studentOldData.dob | date}}</td>
                    <td>{{studentNewData.dob | date}}</td>
                </tr>
                <tr
                    [style.background-color]="studentOldData.admissionDate != studentNewData.admissionDate ? '#ffa98d':''">
                    <th>Date of Admission</th>
                    <td>{{studentOldData.admissionDate | date}}</td>
                    <td>{{studentNewData.admissionDate | date}}</td>
                </tr>
                <tr [style.background-color]="studentOldData.addressType != studentNewData.addressType ? '#ffa98d':''">
                    <th>Address Type</th>
                    <td>{{studentOldData.addressType}}</td>
                    <td>{{studentNewData.addressType}}</td>
                </tr>
                <tr [style.background-color]="studentOldData.urbanAddress != studentNewData.urbanAddress ? '#ffa98d':''"
                    *ngIf="studentNewData.addressType == 'Urban'">
                    <th>Urban Address</th>
                    <td>{{studentOldData.urbanAddress}}</td>
                    <td>{{studentNewData.urbanAddress}}</td>
                </tr>
                <tr [style.background-color]="studentOldData.villageAddress != studentNewData.villageAddress ? '#ffa98d':''"
                    *ngIf="studentNewData.addressType != 'Urban'">
                    <th>Village</th>
                    <td>{{studentOldData.villageAddress}}</td>
                    <td>{{studentNewData.villageAddress}}</td>
                </tr>
                <tr [style.background-color]="studentOldData.postOffice != studentNewData.postOffice ? '#ffa98d':''"
                    *ngIf="studentNewData.addressType != 'Urban'">
                    <th>Post Office</th>
                    <td>{{studentOldData.postOffice}}</td>
                    <td>{{studentNewData.postOffice}}</td>
                </tr>
                <tr [style.background-color]="studentOldData.policeStation != studentNewData.policeStation ? '#ffa98d':''"
                    *ngIf="studentNewData.addressType != 'Urban'">
                    <th>Police Station</th>
                    <td>{{studentOldData.policeStation}}</td>
                    <td>{{studentNewData.policeStation}}</td>
                </tr>
                <tr
                    [style.background-color]="studentOldData.districtName != studentNewData.districtName ? '#ffa98d':''">
                    <th>District</th>
                    <td>{{studentOldData.districtName}}</td>
                    <td>{{studentNewData.districtName}}</td>
                </tr>
                <tr [style.background-color]="studentOldData.gender != studentNewData.gender ? '#ffa98d':''">
                    <th>Gender</th>
                    <td>{{studentOldData.gender}}</td>
                    <td>{{studentNewData.gender}}</td>
                </tr>
                <tr [style.background-color]="studentOldData.religion != studentNewData.religion ? '#ffa98d':''">
                    <th>Religion</th>
                    <td>{{studentOldData.religion}}</td>
                    <td>{{studentNewData.religion}}</td>
                </tr>
                <tr [style.background-color]="studentOldData.castType != studentNewData.castType ? '#ffa98d':''">
                    <th>Cast</th>
                    <td>{{studentOldData.castType}}</td>
                    <td>{{studentNewData.castType}}</td>
                </tr>
                <tr
                    [style.background-color]="studentOldData.fatherPhoneNumber != studentNewData.fatherPhoneNumber ? '#ffa98d':''">
                    <th>Father Phone No</th>
                    <td>{{studentOldData.fatherPhoneNumber}}</td>
                    <td>{{studentNewData.fatherPhoneNumber}}</td>
                </tr>
                <tr
                    [style.background-color]="studentOldData.motherPhoneNumber != studentNewData.motherPhoneNumber ? '#ffa98d':''">
                    <th>Mother's Phone No</th>
                    <td>{{studentOldData.motherPhoneNumber}}</td>
                    <td>{{studentNewData.motherPhoneNumber}}</td>
                </tr>
                <tr [style.background-color]="studentOldData.aadhaarNo != studentNewData.aadhaarNo ? '#ffa98d':''">
                    <th>Aadhar Card</th>
                    <td>{{studentOldData.aadhaarNo}}</td>
                    <td>{{studentNewData.aadhaarNo}}</td>
                </tr>
            </table>
        </div>
    </div>
</ng-template>

<!-- Compare modal ends -->

<!-- upload image modal starts -->

<ng-template #uploadImageModal let-modal>
    <div class="modal-content">
        <div class="card-header">
            <div class="row">
                <div class="col-md-6 pr-1" style="text-align: left;">
                    <h5 class="title" style="font-weight: bold;">Upload Student Photo</h5>
                </div>

            </div>
        </div>
        <div class="modal-body">
            <form role="form" [formGroup]="uploadStudentPhotoForm">

                <div class="row">

                    <div class="form-group col-md-4">
                        <label for="inputState">Student Photo</label>
                        <input type="text" id="estudentid" name="estudentid" formControlName="estudentid" hidden>
                        <input type="file" value="Choose File..." class="form-control  myformcontrol"
                            style="opacity:0.5; color: red; margin-top: 35px; margin-left: 20px;" id="estudentphoto"
                            class="form-control-file" name="estudentphoto" formControlName="estudentphoto"
                            (change)="onFileSelected($event)">

                        <!-- <angular-file-uploader (fileSelected)="imageSelectedEvent($event)" [config]="afuConfig"
                        id="estudentphoto" name="estudentphoto" formControlName="estudentphoto">
                        </angular-file-uploader> -->
                    </div>

                </div>



                <div class="col-md-12">
                    <div class="form-group text-center">
                        <button type="button" class="btn btn-primary btn-round" (click)="uploadPhoto()">Save</button>
                        &nbsp;<button type="button" class="btn btn-warning btn-round"
                            (click)="dismissModel()">Cancel</button>
                    </div>
                </div>
            </form>
        </div>
    </div>
</ng-template>

<!-- upload image modal ends -->

<!-- add model starts  -->
<ng-template #createModal let-modal>


    <div class="modal-content">
        <div class="card-header">
            <div class="row">
                <div class="col-md-6 pr-1" style="text-align: left;">
                    <h5 class="title" style="font-weight: bold;">Add New Certificate</h5>
                </div>

            </div>
        </div>
        <div class="modal-body">
            <form role="form" [formGroup]="createStudentForm">
                <div class="row">
                    <div class="form-group col-md-4">
                        <label for="inputState">Admission No</label>
                        <div class="input-group input-group-alternative">
                            <input class="form-control myformcontrol" placeholder="Admission No" type="text"
                                id="admissionno" name="admissionno" formControlName="admissionno" />
                        </div>

                    </div>
                    <div class="form-group col-md-4">
                        <label for="inputState">Student Name</label>
                        <div class="input-group input-group-alternative">
                            <input class="form-control myformcontrol" placeholder="Student Name" type="text"
                                id="studentname" name="studentname" formControlName="studentname" />
                        </div>

                    </div>
                    <div class="form-group col-md-4">
                        <label for="inputState">Father's Name</label>
                        <input class="form-control myformcontrol" placeholder="Father's Name" type="text"
                            id="fathrename" name="fathrename" formControlName="fathrename" />

                    </div>
                    <div class="form-group col-md-4">
                        <label for="inputState">Mother's Name</label>
                        <input class="form-control myformcontrol" placeholder="Mother's Name" type="text"
                            id="mothername" name="mothername" formControlName="mothername" />

                    </div>
                    <div class="form-group col-md-4">
                        <label for="inputState">Class</label>
                        <div class="input-group input-group-alternative">
                            <input class="form-control myformcontrol" placeholder="Class" type="text" id="class"
                                name="class" formControlName="class" />
                        </div>

                    </div>
                    <div class="form-group col-md-4">
                        <label for="inputState">Section</label>
                        <div class="input-group input-group-alternative">
                            <input class="form-control myformcontrol" placeholder="Section" type="text" id="section"
                                name="section" formControlName="section" />
                        </div>
                    </div>

                </div>
                <div class="row">

                    <div class="form-group col-md-4">
                        <label for="inputState">Date of Birth</label>
                        <input class="form-control myformcontrol" placeholder="Date of Birth" type="date" id="dob"
                            name="dob" formControlName="dob" />
                    </div>

                    <div class="form-group col-md-4">
                        <label for="inputState">Date of Admission</label>
                        <input class="form-control myformcontrol" placeholder="" type="date" id="admissiondate"
                            name="admissiondate" formControlName="admissiondate" />
                    </div>

                    <div class="form-group col-md-4">
                        <label for="inputState">Address Type</label>
                        <div class="input-group input-group-alternative">
                            <select class="form-control  myformcontrol" name="addresstype" id="addresstype"
                                formControlName="addresstype" (change)="onAddressSelect()">
                                <option value="">Select</option>
                                <option value="Urban">Urban</option>
                                <option value="Rural">Rural</option>
                            </select>
                        </div>
                    </div>

                </div>
                <div class="row" *ngIf="addressType=='Rural'">
                    <div class="form-group col-md-4">
                        <label for="inputState">Village</label>
                        <div class="input-group input-group-alternative">
                            <input class="form-control myformcontrol" placeholder="Village" type="text" id="village"
                                name="village" formControlName="village" />
                        </div>
                    </div>
                    <div class="form-group col-md-4">
                        <label for="inputState">Post Office</label>
                        <div class="input-group input-group-alternative">
                            <input class="form-control myformcontrol" placeholder="Post Office" type="text"
                                id="postoffice" name="postoffice" formControlName="postoffice" />
                        </div>
                    </div>
                    <div class="form-group col-md-4">
                        <label for="inputState">Police Station</label>
                        <div class="input-group input-group-alternative">
                            <input class="form-control myformcontrol" placeholder="Police Station" type="text"
                                id="policestation" name="policestation" formControlName="policestation" />
                        </div>
                    </div>
                    <div class="form-group col-md-4">
                        <label for="inputState">District</label>
                        <div class="input-group input-group-alternative">
                            <input class="form-control myformcontrol" placeholder="District" type="text" id="district"
                                name="district" formControlName="district" />
                        </div>
                    </div>
                </div>
                <div class="row" *ngIf="addressType=='Urban'">
                    <div class="form-group col-md-12">
                        <label for="inputState">Address</label>
                        <div class="input-group input-group-alternative">
                            <input class="form-control myformcontrol" placeholder="Section" type="text"
                                id="urbanaddress" name="urbanaddress" formControlName="urbanaddress" />
                        </div>
                    </div>
                </div>
                <div class="row">

                    <div class="form-group col-md-4">
                        <label for="inputState">Gender</label>
                        <select class="form-control  myformcontrol" name="gender" id="gender" formControlName="gender">
                            <option value="">Select</option>
                            <option value="Male">Male</option>
                            <option value="Female">Female</option>
                        </select>

                    </div>
                    <div class="form-group col-md-4">
                        <label for="inputState">Religion</label>
                        <select class="form-control  myformcontrol" name="religion" id="religion"
                            formControlName="religion">
                            <option value="">Select</option>
                            <option value="Hindu">Hindu</option>
                            <option value="Muslim">Muslim</option>
                            <option value="Sikh">Sikh</option>
                            <option value="Christian">Christian</option>
                        </select>

                    </div>
                    <div class="form-group col-md-4">
                        <label for="inputState">Cast</label>
                        <select class="form-control  myformcontrol" name="cast" id="cast" formControlName="cast">
                            <option value="">Select</option>
                            <option value="Gen">Gen</option>
                            <option value="BC I">BC I</option>
                            <option value="BC II">BC II</option>
                            <option value="SC">SC</option>
                            <option value="ST">ST</option>
                        </select>

                    </div>

                </div>
                <div class="row">

                    <div class="col-md-4">
                        <label for="inputState">Father Phone No</label>
                        <div class="input-group input-group-alternative">
                            <input class="form-control myformcontrol" placeholder="Phone No" type="text" id="fphone"
                                name="fphone" formControlName="fphone" />
                        </div>
                    </div>
                    <div class="col-md-4">
                        <label for="inputState">Mother Phone No</label>
                        <div class="input-group input-group-alternative">
                            <input class="form-control myformcontrol" placeholder="Phone No" type="text" id="mphone"
                                name="mphone" formControlName="mphone" />
                        </div>
                    </div>
                    <div class="col-md-4">
                        <label for="inputState">Aadhar Card No</label>
                        <div class="input-group input-group-alternative">
                            <input class="form-control myformcontrol" placeholder="Aadhar Card No" type="text"
                                id="aadharno" name="aadharno" formControlName="aadharno" />
                        </div>
                    </div>
                    <div class="col-md-4">
                        <label for="inputState">Upload Image</label>
                        <input type="file" value="Choose File..." class="form-control  myformcontrol"
                            style="opacity:0.5; color: red; margin-top: 35px; margin-left: 20px;" id="studentphoto"
                            class="form-control-file" name="studentphoto" formControlName="studentphoto"
                            (change)="onFileSelected($event)">
                    </div>
                </div>



                <div class="col-md-12">
                    <div class="form-group text-center">
                        <button type="button" class="btn btn-primary btn-round" (click)="onSubmit()">Save</button>
                        &nbsp;<button type="button" class="btn btn-warning btn-round"
                            (click)="setDefaulltValue()">Reset</button>
                    </div>
                </div>
            </form>
        </div>
    </div>

</ng-template>
<!-- add model end -->
<!-- update model starts  -->
<ng-template #updateModal let-modal>


    <div class="modal-content">
        <div class="card-header">
            <div class="row">
                <div class="col-md-6 pr-1" style="text-align: left;">
                    <h5 class="title" style="font-weight: bold;">Update Student</h5>
                </div>

            </div>
        </div>
        <div class="modal-body">
            <form role="form" [formGroup]="updateStudentForm">
                <div class="row">
                    <div class="form-group col-md-4" style="display: none;">
                        <label for="inputState">Admission Id</label>
                        <div class="input-group input-group-alternative">
                            <input class="form-control myformcontrol" placeholder="Admission No" type="text" id="uid"
                                name="uid" formControlName="uid" />
                        </div>

                    </div>
                    <div class="form-group col-md-4">
                        <label for="inputState">Admission No</label>
                        <div class="input-group input-group-alternative">
                            <input class="form-control myformcontrol" placeholder="Admission No" type="text"
                                id="uadmissionno" name="uadmissionno" formControlName="uadmissionno" />
                        </div>

                    </div>
                    <div class="form-group col-md-4">
                        <label for="inputState">Student Name</label>
                        <div class="input-group input-group-alternative">
                            <input class="form-control myformcontrol" placeholder="Student Name" type="text"
                                id="ustudentname" name="ustudentname" formControlName="ustudentname" />
                        </div>

                    </div>
                    <div class="form-group col-md-4">
                        <label for="inputState">Father's Name</label>
                        <input class="form-control myformcontrol" placeholder="Father's Name" type="text"
                            id="ufathrename" name="ufathrename" formControlName="ufathrename" />

                    </div>
                    <div class="form-group col-md-4">
                        <label for="inputState">Mother's Name</label>
                        <input class="form-control myformcontrol" placeholder="Mother's Name" type="text"
                            id="umothername" name="umothername" formControlName="umothername" />

                    </div>
                    <div class="form-group col-md-4">
                        <label for="inputState">Class</label>
                        <div class="input-group input-group-alternative">
                            <input class="form-control myformcontrol" placeholder="Class" type="text" id="uclass"
                                name="uclass" formControlName="uclass" />
                        </div>

                    </div>
                    <div class="form-group col-md-4">
                        <label for="inputState">Section</label>
                        <div class="input-group input-group-alternative">
                            <input class="form-control myformcontrol" placeholder="Section" type="text" id="usection"
                                name="usection" formControlName="usection" />
                        </div>
                    </div>

                </div>
                <div class="row">

                    <div class="form-group col-md-4">
                        <label for="inputState">Date of Birth</label>
                        <input class="form-control myformcontrol" placeholder="Date of Birth" type="date" id="udob"
                            name="udob" formControlName="udob" />
                    </div>

                    <div class="form-group col-md-4">
                        <label for="inputState">Date of Admission</label>
                        <input class="form-control myformcontrol" placeholder="" type="date" id="uadmissiondate"
                            name="uadmissiondate" formControlName="uadmissiondate" />
                    </div>

                    <div class="form-group col-md-4">
                        <label for="inputState">Address Type</label>
                        <div class="input-group input-group-alternative">
                            <select class="form-control  myformcontrol" name="uaddresstype" id="uaddresstype"
                                formControlName="uaddresstype" (change)="onUAddressSelect()">
                                <option value="">Select</option>
                                <option value="Urban">Urban</option>
                                <option value="Rural">Rural</option>
                            </select>
                        </div>
                    </div>

                </div>
                <div class="row" *ngIf="uAddressType=='Rural'">
                    <div class="form-group col-md-4">
                        <label for="inputState">Village</label>
                        <div class="input-group input-group-alternative">
                            <input class="form-control myformcontrol" placeholder="Village" type="text" id="uvillage"
                                name="uvillage" formControlName="uvillage" />
                        </div>
                    </div>
                    <div class="form-group col-md-4">
                        <label for="inputState">Post Office</label>
                        <div class="input-group input-group-alternative">
                            <input class="form-control myformcontrol" placeholder="Post Office" type="text"
                                id="upostoffice" name="upostoffice" formControlName="upostoffice" />
                        </div>
                    </div>
                    <div class="form-group col-md-4">
                        <label for="inputState">Police Station</label>
                        <div class="input-group input-group-alternative">
                            <input class="form-control myformcontrol" placeholder="Police Station" type="text"
                                id="upolicestation" name="upolicestation" formControlName="upolicestation" />
                        </div>
                    </div>
                    <div class="form-group col-md-4">
                        <label for="inputState">District</label>
                        <div class="input-group input-group-alternative">
                            <input class="form-control myformcontrol" placeholder="District" type="text" id="udistrict"
                                name="udistrict" formControlName="udistrict" />
                        </div>
                    </div>
                </div>
                <div class="row" *ngIf="uAddressType=='Urban'">
                    <div class="form-group col-md-12">
                        <label for="inputState">Address</label>
                        <div class="input-group input-group-alternative">
                            <input class="form-control myformcontrol" placeholder="Section" type="text"
                                id="uurbanaddress" name="uurbanaddress" formControlName="uurbanaddress" />
                        </div>
                    </div>
                </div>
                <div class="row">

                    <div class="form-group col-md-4">
                        <label for="inputState">Gender</label>
                        <select class="form-control  myformcontrol" name="ugender" id="ugender"
                            formControlName="ugender">
                            <option value="">Select</option>
                            <option value="Male">Male</option>
                            <option value="Female">Female</option>
                        </select>

                    </div>
                    <div class="form-group col-md-4">
                        <label for="inputState">Religion</label>
                        <select class="form-control  myformcontrol" name="ureligion" id="ureligion"
                            formControlName="ureligion">
                            <option value="">Select</option>
                            <option value="Hindu">Hindu</option>
                            <option value="Muslim">Muslim</option>
                            <option value="Sikh">Sikh</option>
                            <option value="Christian">Christian</option>
                        </select>

                    </div>
                    <div class="form-group col-md-4">
                        <label for="inputState">Cast</label>
                        <select class="form-control  myformcontrol" name="ucast" id="ucast" formControlName="ucast">
                            <option value="">Select</option>
                            <option value="Gen">Gen</option>
                            <option value="BC I">BC I</option>
                            <option value="BC II">BC II</option>
                            <option value="SC">SC</option>
                            <option value="ST">ST</option>
                        </select>

                    </div>

                </div>
                <div class="row">

                    <div class="col-md-4">
                        <label for="inputState">Father Phone No</label>
                        <div class="input-group input-group-alternative">
                            <input class="form-control myformcontrol" placeholder="Phone No" type="text" id="ufphone"
                                name="ufphone" formControlName="ufphone" />
                        </div>
                    </div>
                    <div class="col-md-4">
                        <label for="inputState">Mother Phone No</label>
                        <div class="input-group input-group-alternative">
                            <input class="form-control myformcontrol" placeholder="Phone No" type="text" id="umphone"
                                name="umphone" formControlName="umphone" />
                        </div>
                    </div>
                    <div class="col-md-4">
                        <label for="inputState">Aadhar Card No</label>
                        <div class="input-group input-group-alternative">
                            <input class="form-control myformcontrol" placeholder="Aadhar Card No" type="text"
                                id="uaadharno" name="uaadharno" formControlName="uaadharno" />
                        </div>
                    </div>
                    <div class="col-md-4">
                        <label for="inputState">Student Photo</label><br>
                        <img src="http://localhost:9009/images/{{studentPic}}" alt="student photo" style="height: 70%;">
                        <button id="ustudentphoto" (click)="openPhotoUploadForm(uploadImageModal)"
                            class="btn btn-primary">Change</button>
                    </div>
                    
                </div>



                <div class="col-md-12">
                    <div class="form-group text-center">
                        <button type="button" class="btn btn-primary btn-round" (click)="onUpdate()">Save</button>
                        &nbsp;<button type="button" class="btn btn-warning btn-round"
                            (click)="dismissModel()">Cancel</button>
                    </div>
                </div>
            </form>
        </div>
    </div>

</ng-template>
<!-- update model end -->
<div class="main-content">
    <div class="row">
        <div class="col-md-12">
            <div class="card">
                <div class="card-header">
                    <div class="row">
                        <div class="col-md-6">
                            <h4 class="card-title">Manage Students</h4>
                        </div>
                        <div class="col-md-6">

                            <button type="button" class="btn btn-primary btn-round mr-2 float-right"
                                (click)="open(createModal)" *ngIf="canCreateStudent">Create</button> &nbsp;
                            <button type="button" class="btn btn-primary btn-round mr-2 float-right" *ngIf="bulkUploadData"
                            (click)="openBulkUploadDialog(bulkUploadModal)" id="btn1" name="btn1">Bulk Upload</button>
                        </div>
                    </div>

                </div>
                <!-- faculty View  -->
                <div class="card-body">
                    <table class="table table-responsive">
                        <thead>
                            <th style="text-align: center;">
                                Student Photo
                            </th>
                            <th style="text-align: center;">
                                Admission No
                            </th>
                            <th style="text-align: center;">
                                Name
                            </th>
                            <th style="text-align: center;">
                                Father Name
                            </th>
                            <th style="text-align: center;">
                                Class
                            </th>
                            <th style="text-align: center;">
                                Section
                            </th>
                            <th style="text-align: center;">
                                Date of Birth
                            </th>
                            <th style="text-align: center;">
                                Status
                            </th>
                            <th style="text-align: center;">Action</th>
                        </thead>
                        <tbody>
                            <tr *ngFor="let student of studentList | filter: data
                            | paginate: { itemsPerPage: itemPerPage, currentPage: p, totalItems: pages }">
                                <td style="text-align: center; width: 20%;">
                                    <img *ngIf="student.studentPhoto != null" src="http://localhost:9009/images/{{student.studentPhoto}}" alt="image">
                                </td>
                                <td>{{student.admissionNo}}</td>
                                <td>{{student.studentName}}</td>
                                <td>{{student.fatherName}}</td>
                                <td>{{student.classId}}</td>
                                <td>{{student.sectionId}}</td>
                                <td>{{student.dob | date}}</td>
                                <td>{{student.status}}</td>
                                <td class="td-actions" style="text-align: center;">
                                    <button type="button" rel="tooltip" title="" *ngIf="canViewDocument"
                                        class="btn btn-info btn-round btn-icon btn-icon-mini btn-neutral"
                                        data-original-title="View Documents"
                                        (click)="openDocModal(viewCertificateModal, student)">
                                        <i class="now-ui-icons files_single-copy-04"></i>
                                    </button>&nbsp;
                                    
                                    <button type="button" rel="tooltip" title=""
                                        class="btn btn-info btn-round btn-icon btn-icon-mini btn-neutral"
                                        data-original-title="View Student" (click)="viewStudent(student.id)">
                                        <i class="now-ui-icons users_single-02"></i>
                                    </button>&nbsp;
                                    <button type="button" rel="tooltip" title="" *ngIf="student.status == 'PENDING' && compare"
                                        class="btn btn-info btn-round btn-icon btn-icon-mini btn-neutral"
                                        data-original-title="Edit Task" (click)="onCompare(compareModal, student)">
                                        <i class="now-ui-icons files_paper"></i>
                                    </button>
                                    <button type="button" rel="tooltip" title="" *ngIf="student.status != 'PENDING' && canEdit"
                                        class="btn btn-info btn-round btn-icon btn-icon-mini btn-neutral"
                                        data-original-title="Edit Task" (click)="onEdit(updateModal, student)">
                                        <i class="now-ui-icons ui-2_settings-90"></i>
                                    </button>
                                    <button type="button" rel="tooltip" title="" *ngIf="student.status == 'PENDING' && canApprove"
                                        class="btn btn-info btn-round btn-icon btn-icon-mini btn-neutral"
                                        data-original-title="Approve Task" (click)="onApprove(student)">
                                        <i class="now-ui-icons ui-1_check"></i>
                                    </button>
                                    <button type="button" rel="tooltip" title="" *ngIf="student.status == 'PENDING' && canReject"
                                        class="btn btn-info btn-round btn-icon btn-icon-mini btn-neutral"
                                        data-original-title="Approve Task" (click)="onReject(student)">
                                        <i class="now-ui-icons ui-1_simple-remove"></i>
                                    </button>
                                    <button type="button" rel="tooltip" title="" *ngIf="student.status != 'PENDING' && canDelete"
                                        class="btn btn-danger btn-round btn-icon btn-icon-mini btn-neutral"
                                        data-original-title="Remove" (click)="deleteStudent(student)">
                                        <i class="now-ui-icons files_box text-info"></i>
                                    </button>
                                </td>
                            </tr>
                        </tbody>
                        <tfoot>
                            <tr>
                                <td colspan="9">
                                    <!-- <ul class="nav nav-pills float-right">
                                        <li class="nav-item rounded-circle ml-1"
                                            *ngFor="let item of pages; let i = index">
                                            <a href="#" class="nav-link border border-primary rounded-circle active"
                                                (click)="setPage(i,$event)"
                                                [ngClass]="{'active': i==requestPage}">{{i+1}} </a>
                                        </li>
                                    </ul> -->
                                    <pagination-controls 
                                    directionLinks="true"
                                    responsive="true"
                                    previousLabel=""
                                    nextLabel=""
                                    (pageChange)="pageChangeEvent($event)"></pagination-controls>
                                </td>
                            </tr>
                        </tfoot>
                    </table>



                </div>

            </div>
        </div>
    </div>
</div>

<!-- Bulk upload modal start -->

<ng-template #bulkUploadModal let-modal>
    <div class="modal-content">
        <div class="card-header">
            <div class="row">
                <div class="col-md-6 pr-1" style="text-align: left;">
                    <h5 class="title" style="font-weight: bold;">Upload Bulk Student</h5>
                </div>

            </div>
        </div>
        <div class="modal-body">
            <input type="file" name="bulkUploadExcel" id="bulkUploadExcel" (change)="uploadBulkData($event)">
            <button type="button" class="btn btn-primary btn-round" (click)="onBulkSubmit()">Save</button>
        </div>
    </div>
</ng-template>

<!-- Bulk upload modal end -->